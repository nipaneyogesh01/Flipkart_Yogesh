Feature: Restful Booker API Tests

  Background:
    * url 'https://restful-booker.herokuapp.com'

  Scenario: Auth - CreateToken (POST /auth)
    Given path '/auth'
    And request {
      "username": "admin",
      "password": "password123"
    }
    When method post
    Then status 200
    And match response.token == 'abc123'

  Scenario: Booking - UpdateBooking (PUT /booking/:id)
    Given path '/booking/1'
    And request {
      "firstname": "James",
      "lastname": "Brown",
      "totalprice": 111,
      "depositpaid": true,
      "bookingdates": {
        "checkin": "2018-01-01",
        "checkout": "2019-01-01"
      },
      "additionalneeds": "Breakfast"
    }
    And header Content-Type = 'application/json'
    And header Accept = 'application/json'
    And header Cookie = 'token=abc123'  # Set the token obtained from the authentication
    When method put
    Then status 200
    And match response == {
      "firstname": "James",
      "lastname": "Brown",
      "totalprice": 111,
      "depositpaid": true,
      "bookingdates": {
        "checkin": "2018-01-01",
        "checkout": "2019-01-01"
      },
      "additionalneeds": "Breakfast"
    }

  # Add more scenarios as needed for other API calls

